# Translate Gen

A working prototype translation system that relies purely on constant variable,
package namespace, maps and go generate.

A simple translation system that nicely suitable for practically embedded systems such as
docker (IMO) and [webassembly](https://webassembly.org/).

## Example

### Input

base.toml
```toml
[base]
language = "English"
createMap = true # Optional

[[base.values]]
const = "Hello"
value = "Hello World"

[[base.values]]
const = "Name"
value = "My name is %s"
```

french.toml
```toml
[[imports]] # Optional
path = "net/http"
alias = "httpStuff" # Optional

[translation]
language = "French"
functionName = "French"

[[translation.values]]
const = "Hello"
value = "Bonjour le monde"

[[translation.values]]
const = "Name"
value = "Mon nom est %s"

[[translation.values]]
const = "httpStuff.StatusNotFound"
value = "Pas trouvé"
```

### Generate

generate.go
```go
//go:generate translate-gen example base.toml french.toml

package example
```

Than run `go generate generate.go`

### Output

base.go
```go
// Code generated by translate-gen. DO NOT EDIT.
// Source: base.toml

package example

// English
const (
	Hello = `Hello World`
	Name  = `My name is %s`
)

// English Map
func BaseMap() map[interface{}]string {
	return map[interface{}]string{
		Hello: Hello,
		Name:  Name,
	}
}
```

french.go
```go
// Code generated by translate-gen. DO NOT EDIT.
// Source: french.toml

package example

import (
	httpStuff "net/http"
)

// French
func French() map[interface{}]string {
	return map[interface{}]string{
		Hello: `Bonjour le monde`,
		Name:  `Mon nom est %s`,
		httpStuff.StatusNotFound: `Pas trouvé`,
	}
}
```

It's basically generate go code from toml.

# Note

It's will remove backtick ' ` ' in values field.

There is no field validation, I omitted that for flexibility. Just be extra careful.